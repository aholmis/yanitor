# GitHub Copilot â€“ Blazor Component Instructions

These instructions define how GitHub Copilot should generate **C#**, **Razor**, **HTML**, and **CSS** inside this Blazor project.

They apply to all Copilot suggestions, completions, and Copilot Chat responses.

---

## 1. General Blazor Coding Rules

1. **Use semantic HTML** whenever possible:
   - `<main>`, `<section>`, `<header>`, `<footer>`, `<nav>`, `<article>`, `<button>`, etc.
2. **Do not use inline styles** (`style="..."`) except for extremely rare, unavoidable, runtime-only dynamic values.
3. Prefer **child components** over large `.razor` files.
4. Organize business logic in:
   - `@code` blocks for simple components, or
   - partial class `.razor.cs` code-behind files for complex logic.
5. Favor **readability and maintainability** over brevity.
6. Avoid unnecessary `<div>` nesting. Keep markup shallow.
7. Use **meaningful component names**: `UserCard`, `OrderList`, `ConfirmationDialog`.

---

## 2. CSS & Styling Rules

Important: All UI should look clean, modern, and consistent on both mobile and desktop browsers, using responsive layouts and typography. 

### CSS Isolation

All component-specific styling **must** be placed in `ComponentName.razor.css`.

Never put component-specific CSS in global files.

### Inline Styles (forbidden)

- Do **not** generate inline styles.
- Do **not** use `style="..."` attributes.
- Always use CSS classes.

### Naming Conventions

- Use a **BEM-like pattern**: `component-name`, `component-name__element`, `component-name--modifier`.
- Example:
  - `.user-card { }`
  - `.user-card__header { }`
  - `.user-card--highlighted { }`

### Responsive Layout

- Prefer **flexbox** or **CSS grid**.
- Avoid rigid pixel widths; use `rem`, `em`, `%`, or `max-width`.

### Utility Classes

Keep layout helpers such as spacing utilities or flex-grid helpers inside `wwwroot/css/site.css`.

---

## 3. Component Structure Requirements

### Required Files

A Blazor component generated by Copilot **must include**:

1. The `.razor` file.
2. A matching `.razor.css` file (if any visual structure exists).

### Razor Markup Rules

- Use semantic containers.
- Use `<button>` instead of clickable `<div>`.
- Use `<label>` paired with form inputs.
- Use attributes appropriately: `@bind-Value`, `@onclick`, `disabled`, `checked`, etc.
- Keep expressions simple inside markup; move complex logic to the code-behind.

### Dynamic Styling

Use **conditional classes**, not inline CSS:

```razor
<button class="@(isActive ? "btn btn--active" : "btn")">
```

### Parameters & Component APIs

- Use `[Parameter]` for all inputs.
- Use clear naming: `UserId`, `IsSelected`, `OnConfirmed`.
- When emitting callbacks, use `EventCallback` or `EventCallback<T>`.

---

## 4. C# Code Rules

Follow C# and Blazor best practices:

- Prefer dependency injection over static access.
- Place component logic in partial classes when it grows beyond ~30 lines.
- Make asynchronous code `async`/`await` (avoid `.Result` / `.Wait()`).
- Use `CancellationToken` where cancellation matters.
- Use latest syntax features (e.g., nullable reference types, expression-bodied members).
- Use latest language features (e.g., pattern matching, records) when appropriate.
- Use primary constructors.
- Use target-typed `new()` where appropriate.
- Write secure code.
 - Use structured logging via `ILogger<T>` and avoid swallowing exceptions.
 - Avoid unnecessary re-renders; use `@key`, keep `OnParametersSet` light, and consider `ShouldRender` for expensive components.

---

## 5. Accessibility Requirements

Copilot must ensure generated UI code includes:

- Proper labels for form fields:

```html
<label for="email">Email</label>
<input id="email" @bind="Email" />
```

- `aria-*` attributes for dynamic UI behavior when appropriate.
- Buttons use the `<button>` element, not `<div>`.
- Links use an `<a>` element with `href`.
- Images include `alt` text.

---

## 6. Documentation Expectations

For any non-trivial component, Copilot should include:

- XML documentation for public parameters and methods.
- Comments for complex logic.
- Summary comments for components describing purpose and behavior.

---

## 7. Example Output Pattern

When generating a component, Copilot should output two files.

### `UserCard.razor`

```razor
<section class="user-card">
    <header class="user-card__header">
        <img class="user-card__avatar" src="@AvatarUrl" alt="User avatar" />
        <div class="user-card__info">
            <h3>@Name</h3>
            <p>@Email</p>
        </div>
    </header>

    <button class="user-card__action" @onclick="OnViewProfile">
        View Profile
    </button>
</section>

@code {
    [Parameter] public string Name { get; set; } = string.Empty;
    [Parameter] public string Email { get; set; } = string.Empty;
    [Parameter] public string AvatarUrl { get; set; } = string.Empty;
    [Parameter] public EventCallback OnViewProfile { get; set; }
}
```

### `UserCard.razor.css`

```css
.user-card {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
    border-radius: 0.5rem;
    background: var(--surface);
}

.user-card__header {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.user-card__avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
}

.user-card__action {
    align-self: flex-start;
}
```

---

## 8. Goals & Enforcement

The purpose of these rules is to ensure:

- Consistent, accessible, maintainable Blazor UI components.
- Clean separation of markup, styling, and logic.
- Predictable output from GitHub Copilot.

Copilot must prioritize these guidelines over inferred patterns from existing code.

---

## 9. Unit Testing

If C# code has logic that should be unit tested, Copilot should also generate a corresponding test file using xUnit in the `Tests` project.

---

## 10. Permissions

- You are allowed to run all `dotnet` commands necessary to build, test, and run the Blazor project.
- You are allowed to read any file in the repository to understand context.
- You are allowed to read output of commands and tests.
